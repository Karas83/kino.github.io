"use strict";(self["webpackChunkadminkino"]=self["webpackChunkadminkino"]||[]).push([[978],{978:function(e,a,n){n.r(a),n.d(a,{default:function(){return Ra}});var t=n(252);function r(e,a,n,r,o,i){const s=(0,t.up)("content-header"),l=(0,t.up)("TopBaners"),c=(0,t.up)("MainBaner"),p=(0,t.up)("MainNews"),d=(0,t.up)("content");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(s,{title:"Баннера"}),(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(l),(0,t.Wm)(c),(0,t.Wm)(p)])),_:1})],64)}var o=n(963),i=n(577);const s=e=>((0,t.dD)("data-v-4fc24900"),e=e(),(0,t.Cn)(),e),l={style:{"margin-top":"5%"},class:"tab-pane fade active show",id:"custom-tabs-five-overlay-dark",role:"tabpanel","aria-labelledby":"custom-tabs-five-overlay-dark-tab",bis_skin_checked:"1"},c={class:"overlay-wrapper",bis_skin_checked:"1"},p={class:"overlay dark",bis_skin_checked:"1"},d=s((()=>(0,t._)("i",{class:"fas fa-3x fa-sync-alt fa-spin"},null,-1))),u=s((()=>(0,t._)("div",{class:"text-bold pt-2",bis_skin_checked:"1"},"Сохранение...",-1))),h=s((()=>(0,t._)("div",{class:"text-bold pt-2",bis_skin_checked:"1"}," Не обновляйте браузер, не закрывайте страницу. ",-1))),g=[d,u,h],v=s((()=>(0,t._)("h1",{class:"page-title"},"На главной верх",-1))),f={class:"img-cont"},b=["src"],m=["onClick"],w={class:"form-group",bis_skin_checked:"1"},k=["onUpdate:modelValue"],y={class:"new-img add-img"},_=s((()=>(0,t._)("label",{for:"addimg"},[(0,t._)("a",{class:"btn btn-app"},[(0,t._)("i",{class:"fas fa-edit"}),(0,t.Uk)(" Добавить фото ")])],-1))),x={class:"submit"},T={class:"form-group",bis_skin_checked:"1"},U=s((()=>(0,t._)("label",null,"Скорость вращения (секунды) ",-1))),C=s((()=>(0,t._)("option",null,"1",-1))),$=s((()=>(0,t._)("option",null,"2",-1))),S=s((()=>(0,t._)("option",null,"3",-1))),F=s((()=>(0,t._)("option",null,"4",-1))),D=s((()=>(0,t._)("option",null,"5",-1))),B=[C,$,S,F,D];function z(e,a,n,r,s,d){return(0,t.wg)(),(0,t.iD)("div",l,[(0,t._)("div",c,[(0,t.wy)((0,t._)("div",p,g,512),[[o.F8,s.topBanersisUpload]]),v,(0,t._)("div",f,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.imgs,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{class:"new-img",key:a},[(0,t._)("img",{src:e,alt:"error"},null,8,b),(0,t._)("h1",{onClick:n=>d.deleteImage(a,e)},"✖️",8,m),(0,t._)("div",w,[(0,t._)("label",null,(0,i.zw)(s.bannersText[a]),1),(0,t.wy)((0,t._)("input",{type:"text",id:"name","onUpdate:modelValue":e=>s.bannersText[a]=e,class:"form-control",placeholder:"Текст баннера"},null,8,k),[[o.nr,s.bannersText[a]]])])])))),128)),(0,t._)("div",y,[(0,t._)("input",{class:"hidden-input",type:"file",ref:"file",accept:"image/*",id:"addimg",onChange:a[0]||(a[0]=e=>d.handleFileUpload())},null,544),_])]),(0,t._)("div",x,[(0,t._)("div",T,[U,(0,t.wy)((0,t._)("select",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>s.rolSpeed=e)},B,512),[[o.bM,s.rolSpeed]])]),(0,t._)("button",{type:"button",onClick:a[2]||(a[2]=(...e)=>d.add&&d.add(...e)),class:"btn btn-block bg-gradient-primary btn-lg"}," Сохранить ")])])])}var M=n(321),N=n(153),H=n(696),I={data(){return{file:"",imgs:{},delimgs:[],loadimgs:{},urlimgs:{},bannersText:{},topBanersisUpload:!1,rolSpeed:Number}},methods:{handleFileUpload(){this.file=this.$refs.file.files[0],this.loadimgs[this.file.name]=this.file;let e=new FileReader;e.addEventListener("load",function(){this.imgs[this.file.name]=e.result}.bind(this),!1),e.readAsDataURL(this.file)},deleteImage(e){const a={...this.imgs},n={...this.urlimgs},t={...this.loadimgs},r={...this.bannersText};delete a[e],delete n[e],delete t[e],delete r[e],this.delimgs.push(e),this.bannersText=r,this.loadimgs=t,this.urlimgs=n,this.imgs=a},checkonline(){(0,M.cf)((0,M.JU)(H.db,"image-urls","banners-top"),(e=>{try{this.imgs=e.data().urls,this.urlimgs=e.data().urls,this.bannersText=e.data().bannersText,this.rolSpeed=e.data().rolSpeed}catch{console.log("error take data from store")}}))},async add(){for(var e in this.topBanersisUpload=!0,this.loadimgs){const a=(0,N.iH)(H.t,"images/banners/topbaners/"+e),n={contentType:"image/jpeg"};await(0,N.B0)(a,this.loadimgs[e],n),await(0,N.Jt)((0,N.iH)(H.t,"images/banners/topbaners/"+e)).then((a=>{const n=new XMLHttpRequest;n.responseType="blob",n.onload=e=>{n.response},n.open("GET",a),this.urlimgs[e]=a})).catch((e=>{console.log("error take url")}))}try{await(0,M.pl)((0,M.JU)(H.db,"image-urls","banners-top"),{urls:this.urlimgs,bannersText:this.bannersText,rolSpeed:this.rolSpeed})}catch{console.log("error to upload data to store")}this.delimgs.forEach((function(e){const a=(0,N.iH)(H.t,"images/banners/topbaners/"+e);(0,N.oq)(a).then((()=>{})).catch((a=>{console.log(e+" already delete")}))})),this.delimgs=[],this.topBanersisUpload=!1}},mounted(){this.checkonline()}},A=n(744);const E=(0,A.Z)(I,[["render",z],["__scopeId","data-v-4fc24900"]]);var L=E;const j={style:{"margin-top":"5%"},class:"tab-pane fade active show mainbaner",id:"custom-tabs-five-overlay-dark",role:"tabpanel","aria-labelledby":"custom-tabs-five-overlay-dark-tab",bis_skin_checked:"1"},q={class:"overlay-wrapper",bis_skin_checked:"1"},W={class:"overlay dark",bis_skin_checked:"1"},R=(0,t._)("i",{class:"fas fa-3x fa-sync-alt fa-spin"},null,-1),J=(0,t._)("div",{class:"text-bold pt-2",bis_skin_checked:"1"},"Сохранение...",-1),P=(0,t._)("div",{class:"text-bold pt-2",bis_skin_checked:"1"}," Не обновляйте браузер, не закрывайте страницу. ",-1),O=[R,J,P],K=(0,t._)("h1",{class:"page-title"},"Сквозной банер на заднем фоне",-1),V={class:"mainbanner-contfortupe"},Y={class:"submit"},G={class:"custom-control custom-radio",bis_skin_checked:"1"},X=(0,t._)("label",{for:"imgfont",class:"custom-control-label"},"Фото на фоне",-1),Z={class:"custom-control custom-radio",bis_skin_checked:"1"},Q=(0,t._)("label",{for:"colorfont",class:"custom-control-label"},"Просто фон",-1),ee={key:0,class:"img-cont mainbaner-cont"},ae=["src"],ne={class:"new-img add-img"},te=(0,t._)("label",{for:"addimgmain"},[(0,t._)("a",{class:"btn btn-app"},[(0,t._)("i",{class:"fas fa-edit"}),(0,t.Uk)(" Добавить фото ")])],-1),re=(0,t._)("a",{class:"btn btn-app"},[(0,t._)("i",{class:"icon fas fa-ban"}),(0,t.Uk)(" Удалить фото")],-1),oe=[re],ie={key:1,class:"img-cont mainbaner-cont"},se={key:0},le=(0,t._)("a",{class:"btn btn-app"},[(0,t._)("i",{class:"fas fa-edit"}),(0,t.Uk)(" Сохранить выбраный фон ")],-1),ce=[le],pe=(0,t._)("a",{class:"btn btn-app"},[(0,t._)("i",{class:"icon fas fa-ban"}),(0,t.Uk)(" Удалить фон")],-1),de=[pe];function ue(e,a,n,r,s,l){const c=(0,t.up)("ColorPicker");return(0,t.wg)(),(0,t.iD)("div",j,[(0,t._)("div",q,[(0,t.wy)((0,t._)("div",W,O,512),[[o.F8,s.mainBanersisUpload]]),K,(0,t._)("div",V,[(0,t._)("div",Y,[(0,t._)("div",G,[(0,t.wy)((0,t._)("input",{value:"1","onUpdate:modelValue":a[0]||(a[0]=e=>s.fontType=e),type:"radio",id:"imgfont",name:"customRadio",class:"custom-control-input"},null,512),[[o.G2,s.fontType]]),X]),(0,t._)("div",Z,[(0,t.wy)((0,t._)("input",{value:"2","onUpdate:modelValue":a[1]||(a[1]=e=>s.fontType=e),type:"radio",id:"colorfont",name:"customRadio",class:"custom-control-input custom-control-input-danger"},null,512),[[o.G2,s.fontType]]),Q]),(0,t._)("button",{onClick:a[2]||(a[2]=(...e)=>l.setFontType&&l.setFontType(...e)),type:"button",class:"btn btn-block bg-gradient-primary btn-lg"}," Сохранить тип фона ")]),1==s.fontType?((0,t.wg)(),(0,t.iD)("div",ee,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.mainbanerprev,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{class:"new-img",key:a},[(0,t._)("img",{src:e,alt:"error"},null,8,ae)])))),128)),(0,t._)("div",ne,[(0,t._)("input",{class:"hidden-input",type:"file",ref:"filemain",accept:"image/*",id:"addimgmain",onChange:a[3]||(a[3]=e=>l.mainBanerAdd())},null,544),te,(0,t._)("label",{onClick:a[4]||(a[4]=(...e)=>l.deleteImageMainBaner&&l.deleteImageMainBaner(...e))},oe)])])):(0,t.kq)("",!0),2==s.fontType?((0,t.wg)(),(0,t.iD)("div",ie,[(0,t.Wm)(c,{color:s.color,onColorChange:l.updateColor,"visible-formats":["hex"],"default-format":"hex"},null,8,["color","onColorChange"]),""==s.color?((0,t.wg)(),(0,t.iD)("div",se)):((0,t.wg)(),(0,t.iD)("div",{key:1,style:(0,i.j5)({width:"200px",height:"200px",backgroundColor:s.color})},null,4)),(0,t._)("label",{onClick:a[5]||(a[5]=(...e)=>l.addFontColor&&l.addFontColor(...e))},ce),(0,t._)("label",{onClick:a[6]||(a[6]=(...e)=>l.deleteFontColor&&l.deleteFontColor(...e))},de)])):(0,t.kq)("",!0)])])])}var he=n(262);function ge(e,a,n){return Math.max(a,Math.min(e,n))}function ve(e,a=2){return e.toFixed(a).replace(/\.?0+$/,"")}function fe(e){return e.endsWith(".")?NaN:(parseFloat(e)%360+360)%360/360}function be(e){return ve(360*e)}function me(e){if(!e.endsWith("%"))return NaN;const a=e.substring(0,e.length-1);if(a.endsWith("."))return NaN;const n=parseFloat(a);return Number.isNaN(n)?NaN:ge(n,0,100)/100}function we(e){return ve(100*e)+"%"}function ke(e){if(e.endsWith("%"))return me(e);if(e.endsWith("."))return NaN;const a=parseFloat(e);return Number.isNaN(a)?NaN:ge(a,0,255)/255}function ye(e){return ve(255*e)}function _e(e){return e.endsWith("%")?me(e):ge(parseFloat(e),0,1)}function xe(e){return String(e)}const Te={hsl:{h:{to:be,from:fe},s:{to:we,from:me},l:{to:we,from:me},a:{to:xe,from:_e}},hwb:{h:{to:be,from:fe},w:{to:we,from:me},b:{to:we,from:me},a:{to:xe,from:_e}},rgb:{r:{to:ye,from:ke},g:{to:ye,from:ke},b:{to:ye,from:ke},a:{to:xe,from:_e}}};function Ue(e){const a=e.replace(/^#/,""),n=[],t=a.length>4?2:1;for(let o=0;o<a.length;o+=t){const e=a.slice(o,o+t);n.push(e.repeat(t%2+1))}3===n.length&&n.push("ff");const r=n.map((e=>parseInt(e,16)/255));return{r:r[0],g:r[1],b:r[2],a:r[3]}}function Ce(e){const a=e.l<.5?e.l*(1+e.s):e.l+e.s-e.l*e.s,n=2*e.l-a;return{r:$e(n,a,e.h+1/3),g:$e(n,a,e.h),b:$e(n,a,e.h-1/3),a:e.a}}function $e(e,a,n){return n<0?n+=1:n>1&&(n-=1),n<1/6?e+6*(a-e)*n:n<.5?a:n<2/3?e+(a-e)*(2/3-n)*6:e}function Se(e){return{r:Fe(5,e),g:Fe(3,e),b:Fe(1,e),a:e.a}}function Fe(e,a){const n=(e+6*a.h)%6;return a.v-a.v*a.s*Math.max(0,Math.min(n,4-n,1))}function De(e){return{h:e.h,s:1===e.b?0:1-e.w/(1-e.b),v:1-e.b,a:e.a}}function Be(e){const a=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b);let t;return t=n===a?0:n===e.r?(0+(e.g-e.b)/(n-a))/6:n===e.g?(2+(e.b-e.r)/(n-a))/6:(4+(e.r-e.g)/(n-a))/6,t<0&&(t+=1),{h:t,w:a,b:1-n,a:e.a}}function ze(e){const a=Be(e),n=a.w,t=1-a.b,r=(t+n)/2;let o;return o=0===t||1===n?0:(t-r)/Math.min(r,1-r),{h:a.h,s:o,l:r,a:e.a}}function Me(e){return"#"+Object.values(e).map((e=>{const a=255*e,n=Math.round(a).toString(16);return 1===n.length?"0"+n:n})).join("")}const Ne={hex:[["hsl",e=>He(e,[Ue,ze])],["hsv",e=>He(e,[Ue,Be,De])],["hwb",e=>He(e,[Ue,Be])],["rgb",Ue]],hsl:[["hex",e=>He(e,[Ce,Me])],["hsv",function(e){const a=e.l+e.s*Math.min(e.l,1-e.l),n=0===a?0:2-2*e.l/a;return{h:e.h,s:n,v:a,a:e.a}}],["hwb",e=>He(e,[Ce,Be])],["rgb",Ce]],hsv:[["hex",e=>He(e,[Se,Me])],["hsl",function(e){const a=e.v-e.v*e.s/2,n=Math.min(a,1-a),t=0===n?0:(e.v-a)/n;return{h:e.h,s:t,l:a,a:e.a}}],["hwb",function(e){return{h:e.h,w:(1-e.s)*e.v,b:1-e.v,a:e.a}}],["rgb",Se]],hwb:[["hex",e=>He(e,[De,Se,Me])],["hsl",e=>He(e,[De,Se,ze])],["hsv",De],["rgb",e=>He(e,[De,Se])]],rgb:[["hex",Me],["hsl",ze],["hsv",e=>He(e,[Be,De])],["hwb",Be]]};function He(e,a){return a.reduce(((e,a)=>a(e)),e)}function Ie(e){const a={};for(const n in e)a[n]=e[n];return a}const Ae={hex:(e,a)=>a&&[5,9].includes(e.length)?e.substring(0,e.length-(e.length-1)/4):e,hsl:(e,a)=>`hsl(${ve(360*e.h)} ${ve(100*e.s)}% ${ve(100*e.l)}%`+(a?")":` / ${ve(e.a)})`),hwb:(e,a)=>`hwb(${ve(360*e.h)} ${ve(100*e.w)}% ${ve(100*e.b)}%`+(a?")":` / ${ve(e.a)})`),rgb:(e,a)=>`rgb(${ve(255*e.r)} ${ve(255*e.g)} ${ve(255*e.b)}`+(a?")":` / ${ve(e.a)})`)};function Ee(e,a,n){return Ae[a](e,n)}function Le(e){return/^#(?:(?:[A-F0-9]{2}){3,4}|[A-F0-9]{3,4})$/i.test(e)}function je(e){if("string"!=typeof e){const a=function(e){return Object.prototype.hasOwnProperty.call(e,"r")?"rgb":Object.prototype.hasOwnProperty.call(e,"w")?"hwb":Object.prototype.hasOwnProperty.call(e,"v")?"hsv":"hsl"}(e);return{format:a,color:e}}if(Le(e))return{format:"hex",color:e};if(!e.includes("(")){const a=document.createElement("canvas").getContext("2d");a.fillStyle=e;const n=a.fillStyle;return"#000000"===n&&"black"!==e?null:{format:"hex",color:n}}const[a,n]=e.split("("),t=a.substring(0,3),r=n.replace(/[,/)]/g," ").replace(/\s+/g," ").trim().split(" ");3===r.length&&r.push("1");const o=t.split("").concat("a"),i=Object.fromEntries(o.map(((e,a)=>[e,Te[t][e].from(r[a])])));return{format:t,color:i}}const qe=["hex","hsl","hwb","rgb"],We=["show","hide"],Re={class:"vacp-range-input-group"},Je=["for"],Pe={class:"vacp-range-input-label-text vacp-range-input-label-text--hue"},Oe=(0,t.Uk)("Hue"),Ke=["id","value"],Ve=["for"],Ye={class:"vacp-range-input-label-text vacp-range-input-label-text--alpha"},Ge=(0,t.Uk)("Alpha"),Xe=["id","value"],Ze=(0,t.Uk)(" Copy color "),Qe={class:"vacp-color-inputs"},ea={class:"vacp-color-input-group"},aa=["for"],na=(0,t._)("span",{class:"vacp-color-input-label-text"}," Hex ",-1),ta=["id","value"],ra=["id","for","onInput"],oa={class:"vacp-color-input-label-text"},ia=["id","value","onInput"],sa=(0,t.Uk)(" Switch format ");var la={__name:"ColorPicker",props:{color:{type:[String,Object],required:!1,default:"#ffffffff"},id:{type:String,required:!1,default:"color-picker"},visibleFormats:{type:Array,required:!1,default:()=>qe,validator:e=>e.length>0&&e.every((e=>qe.includes(e)))},defaultFormat:{type:String,required:!1,default:"hsl",validator:e=>qe.includes(e)},alphaChannel:{type:String,required:!1,default:"show",validator:e=>We.includes(e)}},emits:["color-change"],setup(e,{emit:a}){const n=e,r=(0,he.iH)(null),o=(0,he.iH)(null),s=(0,he.iH)(null),l=(0,he.iH)(!1),c=(0,he.iH)(n.defaultFormat),p=(0,he.qj)({hex:"#ffffffff",hsl:{h:0,s:0,l:1,a:1},hsv:{h:0,s:0,v:1,a:1},hwb:{h:0,w:1,b:0,a:1},rgb:{r:1,g:1,b:1,a:1}}),d=(0,t.Fl)((function(){const e=Object.keys(p[c.value]);return"hex"!==c.value&&"hide"===n.alphaChannel?e.slice(0,3):e})),u=(0,t.Fl)((function(){return"hide"===n.alphaChannel&&[5,9].includes(p.hex.length)?p.hex.substring(0,p.hex.length-(p.hex.length-1)/4):p.hex}));function h(){const e=(n.visibleFormats.findIndex((e=>e===c.value))+1)%n.visibleFormats.length;c.value=n.visibleFormats[e]}function g(e){l.value=!0,b(e)}function v(e){l.value=!0,m(e)}function f(){l.value=!1}function b(e){1===e.buttons&&!1!==l.value&&o.value instanceof HTMLElement&&w(o.value,e.clientX,e.clientY)}function m(e){if(!1===l.value||!(o.value instanceof HTMLElement))return;e.preventDefault();const a=e.touches[0];w(o.value,a.clientX,a.clientY)}function w(e,a,n){const t=function(e,a,n){const t=e.getBoundingClientRect(),r=a-t.left,o=n-t.top;return{x:ge(r/t.width,0,1),y:ge(1-o/t.height,0,1)}}(e,a,n),r=Ie(p.hsv);r.s=t.x,r.v=t.y,U("hsv",r)}function k(e){if(!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(e.key))return;e.preventDefault();const a=["ArrowLeft","ArrowDown"].includes(e.key)?-1:1,n=["ArrowLeft","ArrowRight"].includes(e.key)?"s":"v",t=e.shiftKey?10:1,r=p.hsv[n]+a*t*.01,o=Ie(p.hsv);o[n]=ge(r,0,1),U("hsv",o)}function y(e){const a=je(e);null!==a&&U(a.format,a.color)}function _(e){const a=e.currentTarget,n=Ie(p.hsv);n.h=parseInt(a.value)/360,U("hsv",n)}function x(e){const a=e.currentTarget,n=Ie(p.hsv);n.a=parseInt(a.value)/100,U("hsv",n)}function T(e,a){const n=e.target,t=Ie(p[c.value]),r=Te[c.value][a].from(n.value);Number.isNaN(r)||void 0===r||(t[a]=r,U(c.value,t))}function U(e,t){let i=t;if("hide"===n.alphaChannel)if("string"!=typeof t)t.a=1,i=t;else if([5,9].includes(t.length)){const e=(t.length-1)/4;i=t.substring(0,t.length-e)+"f".repeat(e)}else[4,7].includes(t.length)&&(i=t+"f".repeat((t.length-1)/3));if(!function(e,a){if("string"==typeof e||"string"==typeof a)return e===a;for(const n in e)if(e[n]!==a[n])return!1;return!0}(p[e],i)){!function(e,a){p[e]=a;for(const[n,t]of Ne[e])p[n]=t(p[e])}(e,i);const t=function(){const e="hide"===n.alphaChannel,a=Ee(p[c.value],c.value,e);return{colors:p,cssColor:a}}();a("color-change",t)}!function(){r.value instanceof HTMLElement&&o.value instanceof HTMLElement&&s.value instanceof HTMLElement&&(r.value.style.setProperty("--vacp-hsl-h",String(p.hsl.h)),r.value.style.setProperty("--vacp-hsl-s",String(p.hsl.s)),r.value.style.setProperty("--vacp-hsl-l",String(p.hsl.l)),r.value.style.setProperty("--vacp-hsl-a",String(p.hsl.a)),o.value.setAttribute("style","\n    position: relative;\n    background-color: hsl(calc(var(--vacp-hsl-h) * 360) 100% 50%); /* 1. */\n    background-image:\n      linear-gradient(to top, #000, transparent),  /* 2. */\n      linear-gradient(to right, #fff, transparent) /* 2. */\n    ;\n  "),s.value.setAttribute("style",`\n    box-sizing: border-box;\n    position: absolute;\n    left: ${100*p.hsv.s}%;   /* 3. */\n    bottom: ${100*p.hsv.v}%; /* 3. */\n  `))}()}async function C(){const e=p[c.value],a="hide"===n.alphaChannel,t=Ee(e,c.value,a);await window.navigator.clipboard.writeText(t)}function $(e,a){return Te[e][a].to(p[e][a])}function S(e){if(!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(e.key)||!e.shiftKey)return;const a=e.currentTarget,n=parseFloat(a.step),t=["ArrowLeft","ArrowDown"].includes(e.key)?-1:1,r=ge(parseFloat(a.value)+t*n*10,parseInt(a.min),parseInt(a.max));a.value=String(r-t*n)}return(0,t.YP)((()=>n.color),y),(0,t.bv)((function(){document.addEventListener("mousemove",b,{passive:!1}),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("mouseup",f),document.addEventListener("touchend",f),y(n.color)})),(0,t.Jd)((function(){document.removeEventListener("mousemove",b),document.removeEventListener("touchmove",m),document.removeEventListener("mouseup",f),document.removeEventListener("touchend",f)})),(a,n)=>((0,t.wg)(),(0,t.iD)("div",{ref_key:"colorPicker",ref:r,class:"vacp-color-picker"},[(0,t._)("div",{ref_key:"colorSpace",ref:o,class:"vacp-color-space",onMousedown:g,onTouchstart:v},[(0,t._)("div",{ref_key:"thumb",ref:s,class:"vacp-color-space-thumb",tabindex:"0","aria-label":"Color space thumb",onKeydown:k},null,544)],544),(0,t._)("div",Re,[(0,t._)("label",{class:"vacp-range-input-label vacp-range-input-label--hue",for:`${e.id}-hue-slider`},[(0,t._)("span",Pe,[(0,t.WI)(a.$slots,"hue-range-input-label",{},(()=>[Oe]))]),(0,t._)("input",{id:`${e.id}-hue-slider`,class:"vacp-range-input vacp-range-input--hue",value:360*p.hsv.h,type:"range",min:"0",max:"360",step:"1",onKeydownPassive:S,onInput:_},null,40,Ke)],8,Je),"show"===e.alphaChannel?((0,t.wg)(),(0,t.iD)("label",{key:0,class:"vacp-range-input-label vacp-range-input-label--alpha",for:`${e.id}-alpha-slider`},[(0,t._)("span",Ye,[(0,t.WI)(a.$slots,"alpha-range-input-label",{},(()=>[Ge]))]),(0,t._)("input",{id:`${e.id}-alpha-slider`,class:"vacp-range-input vacp-range-input--alpha",value:100*p.hsv.a,type:"range",min:"0",max:"100",step:"1",onKeydownPassive:S,onInput:x},null,40,Xe)],8,Ve)):(0,t.kq)("",!0)]),(0,t._)("button",{class:"vacp-copy-button",type:"button",onClick:C},[(0,t.WI)(a.$slots,"copy-button",{},(()=>[Ze]))]),(0,t._)("div",Qe,[(0,t._)("div",ea,["hex"===c.value?((0,t.wg)(),(0,t.iD)("label",{key:0,class:"vacp-color-input-label",for:`${e.id}-color-hex`},[na,(0,t._)("input",{id:`${e.id}-color-hex`,class:"vacp-color-input",type:"text",value:(0,he.SU)(u),onInput:n[0]||(n[0]=e=>function(e){const a=e.target;Le(a.value)&&U("hex",a.value)}(e))},null,40,ta)],8,aa)):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)((0,he.SU)(d),(a=>((0,t.wg)(),(0,t.iD)("label",{id:`${e.id}-color-${c.value}-${a}`,key:`${e.id}-color-${c.value}-${a}`,class:"vacp-color-input-label",for:`${e.id}-color-${c.value}`,onInput:e=>T(e,a)},[(0,t._)("span",oa,(0,i.zw)(a.toUpperCase()),1),(0,t._)("input",{id:`${e.id}-color-${c.value}`,class:"vacp-color-input",type:"text",value:$(c.value,a),onInput:e=>T(e,a)},null,40,ia)],40,ra)))),128))]),e.visibleFormats.length>1?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"vacp-format-switch-button",type:"button",onClick:h},[(0,t.WI)(a.$slots,"format-switch-button",{},(()=>[sa]))])):(0,t.kq)("",!0)])],512))}};!function(e,a){void 0===a&&(a={});var n=a.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('.vacp-color-picker{--vacp-color:hsl(calc(var(--vacp-hsl-h) * 360) calc(var(--vacp-hsl-s) * 100%) calc(var(--vacp-hsl-l) * 100%) / var(--vacp-hsl-a));--vacp-focus-color:dodgerblue;--vacp-color-space-width:300px;--vacp-spacing:6px;--vacp-tiled-background-image:linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee),linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee);max-width:var(--vacp-color-space-width);padding:var(--vacp-spacing);display:grid;grid-gap:var(--vacp-spacing);grid-template-columns:1fr min-content;grid-template-areas:"color-space color-space" "range-inputs copy-button" "color-inputs color-inputs";font-size:.8em;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;background-color:#fff}.vacp-color-picker *,.vacp-color-picker ::after,.vacp-color-picker ::before{box-sizing:border-box}.vacp-color-picker button::-moz-focus-inner{border:none;padding:0}.vacp-color-picker :focus{outline:2px solid var(--vacp-focus-color)}.vacp-color-space{grid-area:color-space;overflow:hidden;height:calc(var(--vacp-color-space-width) * .6)}.vacp-color-space-thumb{--vacp-thumb-size:calc(var(--vacp-spacing) * 4);width:var(--vacp-thumb-size);height:var(--vacp-thumb-size);margin-left:calc(-1 * var(--vacp-thumb-size)/ 2);margin-bottom:calc(-1 * var(--vacp-thumb-size)/ 2);border:3px solid #fff;border-radius:50%;box-shadow:0 0 0 1px #000}.vacp-color-space-thumb:focus{outline-color:transparent;box-shadow:0 0 0 1px #000,0 0 0 3px var(--vacp-focus-color)}.vacp-range-input-label{--vacp-slider-track-width:100%;--vacp-slider-track-height:calc(var(--vacp-spacing) * 3);--vacp-slider-thumb-size:calc(var(--vacp-slider-track-height) + var(--vacp-spacing));display:block}.vacp-range-input-group{grid-area:range-inputs;display:flex;flex-direction:column;justify-content:center}.vacp-range-input-group>:not(:first-child){margin-top:var(--vacp-spacing)}.vacp-range-input,.vacp-range-input::-webkit-slider-thumb{-webkit-appearance:none}.vacp-range-input{display:block;width:var(--vacp-slider-track-width);height:var(--vacp-slider-track-height);margin-right:0;margin-left:0;margin-top:calc(var(--vacp-spacing)/ 2);margin-bottom:calc(var(--vacp-spacing)/ 2);padding:0;border:none;background:0 0}.vacp-range-input:focus{outline:0}.vacp-range-input::-moz-focus-outer{border:none}.vacp-range-input--alpha{background-color:#fff;background-image:var(--vacp-tiled-background-image);background-size:calc(var(--vacp-spacing) * 2) calc(var(--vacp-spacing) * 2);background-position:0 0,var(--vacp-spacing) var(--vacp-spacing)}.vacp-range-input::-moz-range-track{display:block;box-sizing:border-box;height:var(--vacp-slider-track-height);border:none}.vacp-range-input::-webkit-slider-runnable-track{width:var(--vacp-slider-track-width);height:var(--vacp-slider-track-height);border:none}.vacp-range-input::-ms-track{width:var(--vacp-slider-track-width);height:var(--vacp-slider-track-height);border:none}.vacp-range-input:focus::-moz-range-track{border:1px solid var(--vacp-focus-color);outline:2px solid var(--vacp-focus-color)}.vacp-range-input:focus::-webkit-slider-runnable-track{border:1px solid var(--vacp-focus-color);outline:2px solid var(--vacp-focus-color)}.vacp-range-input:focus::-ms-track{border:1px solid var(--vacp-focus-color);outline:2px solid var(--vacp-focus-color)}.vacp-range-input--alpha::-moz-range-track{background-image:linear-gradient(to right,transparent,var(--vacp-color))}.vacp-range-input--alpha::-webkit-slider-runnable-track{background-image:linear-gradient(to right,transparent,var(--vacp-color))}.vacp-range-input--alpha::-ms-track{background-image:linear-gradient(to right,transparent,var(--vacp-color))}.vacp-range-input--hue::-moz-range-track{background-image:linear-gradient(to right,red calc(100% * 0/360),#ff0 calc(100% * 60/360),#0f0 calc(100% * 120/360),#0ff calc(100% * 180/360),#00f calc(100% * 240/360),#f0f calc(100% * 300/360),red calc(100% * 360/360))}.vacp-range-input--hue::-webkit-slider-runnable-track{background-image:linear-gradient(to right,red calc(100% * 0/360),#ff0 calc(100% * 60/360),#0f0 calc(100% * 120/360),#0ff calc(100% * 180/360),#00f calc(100% * 240/360),#f0f calc(100% * 300/360),red calc(100% * 360/360))}.vacp-range-input--hue::-ms-track{background-image:linear-gradient(to right,red calc(100% * 0/360),#ff0 calc(100% * 60/360),#0f0 calc(100% * 120/360),#0ff calc(100% * 180/360),#00f calc(100% * 240/360),#f0f calc(100% * 300/360),red calc(100% * 360/360))}.vacp-range-input::-moz-range-thumb{box-sizing:border-box;width:var(--vacp-slider-thumb-size);height:var(--vacp-slider-thumb-size);border:3px solid #fff;border-radius:50%;background-color:transparent;box-shadow:0 0 0 1px #000;transform:rotate(0)}.vacp-range-input::-webkit-slider-thumb{width:var(--vacp-slider-thumb-size);height:var(--vacp-slider-thumb-size);margin-top:calc((var(--vacp-slider-track-height) - var(--vacp-slider-thumb-size))/ 2);border:3px solid #fff;border-radius:50%;background-color:transparent;box-shadow:0 0 0 1px #000;transform:rotate(0)}.vacp-range-input::-ms-thumb{width:var(--vacp-slider-thumb-size);height:var(--vacp-slider-thumb-size);margin-top:0;border:3px solid #fff;border-radius:50%;background-color:transparent;box-shadow:0 0 0 1px #000;transform:rotate(0)}.vacp-copy-button{grid-area:copy-button;justify-self:center;align-self:center;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;width:calc(var(--vacp-spacing) * 6);height:calc(var(--vacp-spacing) * 6);border:1px solid transparent;border-radius:50%;color:#fff;background-color:#fff;background-image:linear-gradient(var(--vacp-color),var(--vacp-color)),var(--vacp-tiled-background-image);background-size:calc(var(--vacp-spacing) * 2) calc(var(--vacp-spacing) * 2);background-position:0 0,var(--vacp-spacing) var(--vacp-spacing)}.vacp-copy-button:enabled:not(:hover) svg{display:none}.vacp-copy-button:enabled:focus{outline:0;box-shadow:0 0 0 2px var(--vacp-focus-color);border-color:var(--vacp-focus-color)}.vacp-copy-button:enabled:hover{background-color:var(--vacp-color);background-image:linear-gradient(rgb(0 0 0 / .25),rgb(0 0 0 / .25))}.vacp-color-inputs{grid-area:color-inputs;display:flex;align-items:center}.vacp-color-inputs>:not(:first-child){margin-left:var(--vacp-spacing)}.vacp-color-input-group{flex-grow:1;display:flex}.vacp-color-input-label{flex-grow:1;text-align:center}.vacp-color-input-label:not(:first-child){margin-left:var(--vacp-spacing)}.vacp-color-input{width:100%;margin:0;margin-top:calc(var(--vacp-spacing)/ 2);padding:var(--vacp-spacing);border:1px solid #ccc;font:inherit;text-align:center;color:inherit;background-color:#fff}.vacp-color-input:enabled:focus{border-color:var(--vacp-focus-color)}.vacp-format-switch-button{display:flex;justify-content:center;align-items:center;margin:0;padding:var(--vacp-spacing);border:1px solid transparent;font:inherit;color:inherit;background-color:#fff}.vacp-format-switch-button:enabled:focus{border-color:var(--vacp-focus-color)}.vacp-format-switch-button:enabled:hover{background-color:#eee}');var ca={components:{ColorPicker:la},data(){return{file:"",mainBanersisUpload:!1,mainbaner:{},mainbanerprev:{},mainbanerurl:{},fontType:1,color:"#0ccf0ccc"}},methods:{updateColor(e){this.color=e.cssColor},async mainBanerAdd(){this.mainBanersisUpload=!0,this.file=this.$refs.filemain.files[0],this.mainbaner.mainbaner=this.file;let e=new FileReader;e.addEventListener("load",function(){this.mainbanerprev.mainbaner=e.result}.bind(this),!1),e.readAsDataURL(this.file);const a=(0,N.iH)(H.t,"images/banners/mainbaner/mainbaner.png"),n={contentType:"image/jpeg"};await(0,N.B0)(a,this.mainbaner.mainbaner,n),await(0,N.Jt)((0,N.iH)(H.t,"images/banners/mainbaner/mainbaner.png")).then((e=>{const a=new XMLHttpRequest;a.responseType="blob",a.onload=e=>{a.response},a.open("GET",e),this.mainbanerurl.mainbaner=e})).catch((e=>{console.log("error take url")}));try{await(0,M.pl)((0,M.JU)(H.db,"image-urls","banner-main"),{urls:this.mainbanerurl,fontType:this.fontType,color:this.color})}catch{console.log("error to upload data to store")}this.mainBanersisUpload=!1},async deleteImageMainBaner(){this.mainBanersisUpload=!0,this.mainbaner={},this.mainbanerprev={},this.mainbanerurl={};const e=(0,N.iH)(H.t,"images/banners/mainbaner/mainbaner.png");(0,N.oq)(e).then((()=>{})).catch((e=>{console.log("Main baner already delete")}));try{await(0,M.pl)((0,M.JU)(H.db,"image-urls","banner-main"),{urls:this.mainbanerurl,fontType:this.fontType,color:this.color})}catch{console.log("error to upload data to store")}this.mainBanersisUpload=!1},async setFontType(){this.mainBanersisUpload=!0;try{await(0,M.pl)((0,M.JU)(H.db,"image-urls","banner-main"),{urls:this.mainbanerurl,color:this.color,fontType:this.fontType})}catch{console.log("error to upload data to store")}this.mainBanersisUpload=!1},async addFontColor(){this.mainBanersisUpload=!0;try{await(0,M.pl)((0,M.JU)(H.db,"image-urls","banner-main"),{urls:this.mainbanerurl,color:this.color,fontType:this.fontType})}catch{console.log("error to upload data to store")}this.mainBanersisUpload=!1},async deleteFontColor(){this.mainBanersisUpload=!0,this.color="";try{await(0,M.pl)((0,M.JU)(H.db,"image-urls","banner-main"),{urls:this.mainbanerurl,fontType:this.fontType,color:this.color})}catch{console.log("error to upload data to store")}this.mainBanersisUpload=!1},checkonline(){(0,M.cf)((0,M.JU)(H.db,"image-urls","banner-main"),(e=>{try{this.mainbanerprev=e.data().urls,this.mainbanerurl=e.data().urls,this.color=e.data().color,this.fontType=e.data().fontType}catch{console.log("error take data from store")}}))}},mounted(){this.checkonline()}};const pa=(0,A.Z)(ca,[["render",ue]]);var da=pa;const ua=e=>((0,t.dD)("data-v-f1c4263a"),e=e(),(0,t.Cn)(),e),ha={style:{"margin-top":"5%"},class:"tab-pane fade active show",id:"custom-tabs-five-overlay-dark",role:"tabpanel","aria-labelledby":"custom-tabs-five-overlay-dark-tab",bis_skin_checked:"1"},ga={class:"overlay-wrapper",bis_skin_checked:"1"},va={class:"overlay dark",bis_skin_checked:"1"},fa=ua((()=>(0,t._)("i",{class:"fas fa-3x fa-sync-alt fa-spin"},null,-1))),ba=ua((()=>(0,t._)("div",{class:"text-bold pt-2",bis_skin_checked:"1"},"Сохранение...",-1))),ma=ua((()=>(0,t._)("div",{class:"text-bold pt-2",bis_skin_checked:"1"}," Не обновляйте браузер, не закрывайте страницу. ",-1))),wa=[fa,ba,ma],ka=ua((()=>(0,t._)("h1",{class:"page-title"},"На главной Новости,Акции",-1))),ya={class:"img-cont"},_a=["src"],xa=["onClick"],Ta={class:"form-group",bis_skin_checked:"1"},Ua=["onUpdate:modelValue"],Ca={class:"new-img add-img"},$a=ua((()=>(0,t._)("label",{for:"newsaddimg"},[(0,t._)("a",{class:"btn btn-app"},[(0,t._)("i",{class:"fas fa-edit"}),(0,t.Uk)(" Добавить фото ")])],-1))),Sa={class:"submit"},Fa={class:"form-group",bis_skin_checked:"1"},Da=ua((()=>(0,t._)("label",null,"Скорость вращения (секунды) ",-1))),Ba=ua((()=>(0,t._)("option",null,"1",-1))),za=ua((()=>(0,t._)("option",null,"2",-1))),Ma=ua((()=>(0,t._)("option",null,"3",-1))),Na=ua((()=>(0,t._)("option",null,"4",-1))),Ha=ua((()=>(0,t._)("option",null,"5",-1))),Ia=[Ba,za,Ma,Na,Ha];function Aa(e,a,n,r,s,l){return(0,t.wg)(),(0,t.iD)("div",ha,[(0,t._)("div",ga,[(0,t.wy)((0,t._)("div",va,wa,512),[[o.F8,s.newsUpload]]),ka,(0,t._)("div",ya,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.imgsnews,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{class:"new-img",key:a},[(0,t._)("img",{src:e,alt:"error"},null,8,_a),(0,t._)("h1",{onClick:n=>l.newsDeleteImage(a,e)},"✖️",8,xa),(0,t._)("div",Ta,[(0,t._)("label",null,(0,i.zw)(s.newsText[a]),1),(0,t.wy)((0,t._)("input",{type:"text",id:"name","onUpdate:modelValue":e=>s.newsText[a]=e,class:"form-control",placeholder:"Текст баннера"},null,8,Ua),[[o.nr,s.newsText[a]]])])])))),128)),(0,t._)("div",Ca,[(0,t._)("input",{class:"hidden-input",type:"file",ref:"newsfile",accept:"image/*",id:"newsaddimg",onChange:a[0]||(a[0]=e=>l.handlenewsfileUpload())},null,544),$a])]),(0,t._)("div",Sa,[(0,t._)("div",Fa,[Da,(0,t.wy)((0,t._)("select",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>s.newsrolSpeed=e)},Ia,512),[[o.bM,s.newsrolSpeed]])]),(0,t._)("button",{type:"button",onClick:a[2]||(a[2]=(...e)=>l.addNews&&l.addNews(...e)),class:"btn btn-block bg-gradient-primary btn-lg"}," Сохранить ")])])])}var Ea={data(){return{newsfile:"",imgsnews:{},delimgsnews:[],loadimgsnews:{},urlimgsnews:{},newsText:{},newsUpload:!1,newsrolSpeed:Number}},methods:{handlenewsfileUpload(){this.newsfile=this.$refs.newsfile.files[0],this.loadimgsnews[this.newsfile.name]=this.newsfile;let e=new FileReader;e.addEventListener("load",function(){this.imgsnews[this.newsfile.name]=e.result}.bind(this),!1),e.readAsDataURL(this.newsfile)},newsDeleteImage(e){const a={...this.imgsnews},n={...this.urlimgsnews},t={...this.loadimgsnews},r={...this.newsText};delete a[e],delete n[e],delete t[e],delete r[e],this.delimgsnews.push(e),this.newsText=r,this.loadimgsnews=t,this.urlimgsnews=n,this.imgsnews=a},checkonline(){(0,M.cf)((0,M.JU)(H.db,"image-urls","news-banners"),(e=>{try{this.imgsnews=e.data().urls,this.urlimgsnews=e.data().urls,this.newsText=e.data().newsText,this.newsrolSpeed=e.data().newsrolSpeed}catch{console.log("error take data from store")}}))},async addNews(){for(var e in this.newsUpload=!0,this.loadimgsnews){const a=(0,N.iH)(H.t,"images/banners/newsbaners/"+e),n={contentType:"image/jpeg"};await(0,N.B0)(a,this.loadimgsnews[e],n),await(0,N.Jt)((0,N.iH)(H.t,"images/banners/newsbaners/"+e)).then((a=>{const n=new XMLHttpRequest;n.responseType="blob",n.onload=e=>{n.response},n.open("GET",a),this.urlimgsnews[e]=a})).catch((e=>{console.log("error take url")}))}try{await(0,M.pl)((0,M.JU)(H.db,"image-urls","news-banners"),{urls:this.urlimgsnews,newsText:this.newsText,newsrolSpeed:this.newsrolSpeed})}catch{console.log("error to upload data to store")}this.delimgsnews.forEach((function(e){const a=(0,N.iH)(H.t,"images/banners/newsbaners/"+e);(0,N.oq)(a).then((()=>{})).catch((a=>{console.log(e+" already delete")}))})),this.delimgsnews=[],this.newsUpload=!1}},mounted(){this.checkonline()}};const La=(0,A.Z)(Ea,[["render",Aa],["__scopeId","data-v-f1c4263a"]]);var ja=La,qa={components:{TopBaners:L,MainBaner:da,MainNews:ja}};const Wa=(0,A.Z)(qa,[["render",r]]);var Ra=Wa}}]);
//# sourceMappingURL=978.480b4c89.js.map